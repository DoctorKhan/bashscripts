#!/bin/bash

#####################################################
## Created by khan on Mon May 23 17:26:15 CDT 2011 ##
#####################################################

#minargs=0; usage="Usage: `basename $0`"
#if regmatch "$1" "^[\-]*h[^ ]*$" || [ "$#" -lt "$minargs" ]
#then echo $usage; exit 0; fi

app="$@"

if [ ! -e "$app" ]; then
	echo App $app does not exist.
fi

name=`fileparts 2 "$app"`
file=`echo "$name" | tr -d ' '`
cd /usr/local/bin

if [ ! -e "$file" ]; then
	# Set permissions
	sudo touch "$file"
	sudo chown `id -u`:`id -g` "$file"
	chmod ug+rwx,o=x "$file"
	
	# Write file
	echo '#!/bin/bash' > "$file"
	echo 'open -a "'$name'" "$@"' >> "$file"
	echo '# Generated by app2cmd' >> "$file"
fi

echo "$file"

